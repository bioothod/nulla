
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <title>Elliptics DASH streaming</title>
	<script src="dist/dash.all.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

        <style>
    video {
        width: 640px;
        height: 360px;
    }
        </style>
    </head>
    <div>
        <video id="audioPlayer" autoplay preload="none" controls="true" />
    </div>

    <script>
$(document).ready(function() {
    var data = {
        "periods": [
        {
            "asets": [
	    {
                "rsets": [
                {
                    "tracks": [
                    {
                        "bucket": "b1",
                        "key": "video_1.mp4",
                        "number": 1,
			"duration": 5000
                    },
                    {
                        "bucket": "b1",
                        "key": "video_2.mp4",
                        "number": 1,
			"duration": 5000
                    },
                    {
                        "bucket": "b1",
                        "key": "video_1.mp4",
                        "number": 1,
			"start": 10000,
			"duration": 5000
                    },
                    {
                        "bucket": "b1",
                        "key": "video_2.mp4",
                        "number": 1,
			"start": 10000,
			"duration": 5000
                    },
                    {
                        "bucket": "b1",
                        "key": "video_1.mp4",
                        "number": 1,
			"start": 20000,
			"duration": 5000
                    },
                    {
                        "bucket": "b1",
                        "key": "video_2.mp4",
                        "number": 1,
			"start": 20000,
			"duration": 5000
                    },
                    {
                        "bucket": "b1",
                        "key": "video_1.mp4",
                        "number": 1,
			"start": 25000,
			"duration": 5000
                    },
                    {
                        "bucket": "b1",
                        "key": "video_2.mp4",
                        "number": 1,
			"start": 25000,
			"duration": 5000
                    },
                    {
                        "bucket": "b1",
                        "key": "video_1.mp4",
                        "number": 1,
			"start": 30000,
			"duration": 5000
                    },
                    {
                        "bucket": "b1",
                        "key": "video_2.mp4",
                        "number": 1,
			"start": 30000,
			"duration": 5000
                    },
                    {
                        "bucket": "b1",
                        "key": "video_1.mp4",
                        "number": 1,
			"start": 35000,
			"duration": 5000
                    },
                    {
                        "bucket": "b1",
                        "key": "video_2.mp4",
                        "number": 1,
			"start": 35000,
			"duration": 5000
                    },
                    {
                        "bucket": "b1",
                        "key": "video_1.mp4",
                        "number": 1,
			"start": 40000,
			"duration": 5000
                    },
                    {
                        "bucket": "b1",
                        "key": "video_2.mp4",
                        "number": 1,
			"start": 40000,
			"duration": 5000
                    }
		    ]
		}
		]
	    },
	    {
                "rsets": [
                {
                    "tracks": [
                    {
                        "bucket": "b1",
                        "key": "sound2.mp4",
                        "number": 1,
			"duration": 30000
                    },
                    {
                        "bucket": "b1",
                        "key": "sound1.mp4",
                        "number": 1
                    }
		    ]
		}
		]
	    }
	    ]
        }
        ]
    };

    $.ajax({
        method: "POST",
        url: "http://localhost:8080/dash_manifest",
        data: JSON.stringify(data)
    })
    .done(function(url) {
        var player = MediaPlayer().create(); 
        player.initialize(document.querySelector("#audioPlayer"), url, true);
    });
});
    </script>
    </body>
</html>
